(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3775],{25016:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var n=a(2821),i=a(75889);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,n.$)(t))}},27877:(e,t,a)=>{Promise.resolve().then(a.bind(a,48753))},33789:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});var n=a(95155);a(12115);var i=a(25016);function s(e){let{className:t,type:a,...s}=e;return(0,n.jsx)("input",{type:a,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}},48753:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var n=a(95155),i=a(3063),s=a(34398),r=a(55234),o=a(26233),l=a(28245),d=a(99361),p=a(20326),u=a(99794);let c=[{inputs:[{internalType:"uint256",name:"chainId_",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"guy",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"src",type:"address"},{indexed:!0,internalType:"address",name:"dst",type:"address"},{indexed:!1,internalType:"uint256",name:"wad",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"wards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],m=[{inputs:[],name:"Line",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"ilks",outputs:[{internalType:"uint256",name:"Art",type:"uint256"},{internalType:"uint256",name:"rate",type:"uint256"},{internalType:"uint256",name:"spot",type:"uint256"},{internalType:"uint256",name:"line",type:"uint256"},{internalType:"uint256",name:"dust",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"usr",type:"address"}],name:"urns",outputs:[{internalType:"uint256",name:"ink",type:"uint256"},{internalType:"uint256",name:"art",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"usr",type:"address"}],name:"gem"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"dai",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"i",type:"bytes32"},{internalType:"address",name:"u",type:"address"},{internalType:"address",name:"v",type:"address"},{internalType:"address",name:"w",type:"address"},{internalType:"int256",name:"dink",type:"int256"},{internalType:"int256",name:"dart",type:"int256"}],name:"frob",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"src",type:"address"},{internalType:"address",name:"dst",type:"address"},{internalType:"uint256",name:"rad",type:"uint256"}],name:"move",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"}],name:"hope",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"guy",type:"address"}],name:"rely",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"ilk",type:"bytes32"},{internalType:"address",name:"guy",type:"address"}],name:"deny",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"what",type:"bytes32"},{internalType:"uint256",name:"data",type:"uint256"}],name:"file",outputs:[],stateMutability:"nonpayable",type:"function"}],y=[{inputs:[],name:"drip",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pie",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"}],name:"pieOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"join",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"}],b=[{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"join",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"usr",type:"address"},{internalType:"uint256",name:"wad",type:"uint256"}],name:"exit",outputs:[],stateMutability:"nonpayable",type:"function"}],f={sepolia:{vat:"0x0F52e95479f549a4246997129f7cEac5AEb03B3b",stablecoin:"0xb4D43bF742cE16aFAaCA1332823DB0fCA2565ea4",spot:"0xDA54e021F4C9B8239D9b70E3FCcBbaaC8954C70B",pot:"0x77F1CC1791830208ccfC63A07beCd38E0780fa45",dog:"0x176223ae0E66E10B33Cc64ab3E7f051Fa6adb5FD",jug:"0x258C6Ff065D92ff829Cb62Ba5554aA763250a676",vow:"0x139da3025aad2Ab370982c9bEAD0cCb1c853469A",daiJoin:"0xB9224838D2feE670B3D2BcF4059bc7AE2bf31844",cbiomehToken:"0xd8eF97d02082E7B707bADAF5bdE5b82a35483725",cbiomehJoin:"0xE59d40A58A79632c377e1Cd2f1c1ecF4596B7aC6",cbiomehClipper:"0xD41E77A6c244340b3173fEfade8C83A698D4dffa",ethFaucet:"0x7A1BF48a4F7Ec9aD206153a038b77a85c7ef0000"}},g={CBiomaH:p._("CBiomaH")};u.XS("1",18),u.XS("1",27),u.XS("1",45),f.sepolia,g.CBiomaH,f.sepolia.cbiomehToken,f.sepolia.cbiomehJoin,f.sepolia.cbiomehClipper;var x=a(12115),h=a(99941),v=a(97003),w=a(33789),T=a(25016);function j(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,T.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function k(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,T.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function N(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,T.cn)("leading-none font-semibold",t),...a})}function A(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,T.cn)("text-muted-foreground text-sm",t),...a})}function M(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,T.cn)("px-6",t),...a})}var C=a(32467);let S=(0,a(83101).F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function P(e){let{className:t,variant:a,asChild:i=!1,...s}=e,r=i?C.DX:"span";return(0,n.jsx)(r,{"data-slot":"badge",className:(0,T.cn)(S({variant:a}),t),...s})}a(47650);var D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=(0,C.TL)(`Primitive.${t}`),i=x.forwardRef((e,i)=>{let{asChild:s,...r}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(s?a:t,{...r,ref:i})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),E="horizontal",F=["horizontal","vertical"],z=x.forwardRef((e,t)=>{var a;let{decorative:i,orientation:s=E,...r}=e,o=(a=s,F.includes(a))?s:E;return(0,n.jsx)(D.div,{"data-orientation":o,...i?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...r,ref:t})});function B(e){let{className:t,orientation:a="horizontal",decorative:i=!0,...s}=e;return(0,n.jsx)(z,{"data-slot":"separator",decorative:i,orientation:a,className:(0,T.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}z.displayName="Separator";var R=a(26735),O=a(18720),J=a(64269);function _(){let{t:e,lang:t}=(0,R.s)(),{userBalance:a,walletBalance:p,savingsRate:u,totalPie:g,withdrawSavings:T,approveDaiJoin:C,joinStablecoinToVat:S,authorizePot:D,depositToPot:E,updateRates:F,isPending:z,isSuccess:_,refetchData:I}=function(){let{address:e}=(0,i.F)();(0,h.i)();let t=f.sepolia,{writeContract:a,writeContractAsync:n,data:p,isPending:u}=(0,s.x)(),{isPending:g,isSuccess:v}=(0,r.g)({hash:p}),[w,T]=(0,x.useState)(!1),j=u||!!p&&g||w,{data:k,refetch:N}=(0,o.Q)({address:t.pot,abi:y,functionName:"pie",args:e?[e]:void 0}),{data:A,refetch:M}=(0,o.Q)({address:t.pot,abi:y,functionName:"chi"}),{data:C,refetch:S}=(0,o.Q)({address:t.pot,abi:y,functionName:"dsr"}),{data:P,refetch:D}=(0,o.Q)({address:t.pot,abi:y,functionName:"Pie"}),{data:E,refetch:F}=(0,o.Q)({address:t.stablecoin,abi:c,functionName:"balanceOf",args:e?[e]:void 0}),z=k&&A?(0,l.c)(BigInt(k.toString())*BigInt(A.toString())/BigInt(1e27)):"0",B=C?((Number(C.toString())/Number(1e27)-1)*100).toFixed(2):"0",R=async()=>(console.log("\uD83D\uDCA7 Updating interest rates..."),n({address:t.pot,abi:y,functionName:"drip",args:[]})),O=async e=>{console.log("\uD83D\uDD13 Approving DaiJoin to spend tokens...");let a=(0,d.g)(e);T(!0);try{let e=await n({address:t.stablecoin,abi:c,functionName:"approve",args:[t.daiJoin,a]});return console.log("✅ Approval completed"),await new Promise(e=>setTimeout(e,2e3)),F(),e}finally{T(!1)}},J=async a=>{console.log("\uD83C\uDFE6 Joining stablecoin into Vat...");let i=(0,d.g)(a),s=await n({address:t.daiJoin,abi:b,functionName:"join",args:[e,i]});return console.log("✅ DaiJoin completed"),await new Promise(e=>setTimeout(e,2e3)),F(),s},_=async()=>{console.log("\uD83D\uDD11 Authorizing Pot contract...");let e=await n({address:t.vat,abi:m,functionName:"hope",args:[t.pot]});return console.log("✅ Authorization completed"),await new Promise(e=>setTimeout(e,2e3)),e},I=async e=>{console.log("\uD83D\uDCB0 Depositing into Pot savings...");let a=(0,d.g)(e);return n({address:t.pot,abi:y,functionName:"join",args:[a]})},L=async a=>{if(!e)return Promise.reject("No address");console.log("\uD83D\uDCB0 Starting deposit process for:",a,"ONEDOLLAR");let i=(0,d.g)(a);console.log("\uD83D\uDCA7 Step 1: Updating interest rates...");try{await n({address:t.pot,abi:y,functionName:"drip",args:[]}),console.log("✅ Drip completed"),await new Promise(e=>setTimeout(e,2e3))}catch(e){throw console.error("❌ Drip failed:",e),e}console.log("\uD83D\uDD13 Step 2: Approving DaiJoin..."),T(!0);try{await n({address:t.stablecoin,abi:c,functionName:"approve",args:[t.daiJoin,i]}),console.log("✅ Approval completed"),await new Promise(e=>setTimeout(e,2e3))}catch(e){throw console.error("❌ Approval failed:",e),T(!1),e}T(!1),console.log("\uD83C\uDFE6 Step 3: Joining stablecoin into Vat...");try{await n({address:t.daiJoin,abi:b,functionName:"join",args:[e,i]}),console.log("✅ DaiJoin completed"),await new Promise(e=>setTimeout(e,2e3))}catch(e){throw console.error("❌ DaiJoin failed:",e),e}console.log("\uD83D\uDD11 Step 4: Authorizing Pot contract...");try{await n({address:t.vat,abi:m,functionName:"hope",args:[t.pot]}),console.log("✅ Authorization completed"),await new Promise(e=>setTimeout(e,2e3))}catch(e){throw console.error("❌ Authorization failed:",e),e}console.log("\uD83D\uDCB0 Step 5: Depositing into Pot savings...");let s=await n({address:t.pot,abi:y,functionName:"join",args:[i]});return console.log("✅ Deposit completed"),await new Promise(e=>setTimeout(e,2e3)),N(),M(),F(),s},$=async a=>{if(!e)return Promise.reject("No address");console.log("\uD83D\uDCB8 Starting withdrawal process for:",a,"ONEDOLLAR");let i=(0,d.g)(a),s=parseFloat(z),r=parseFloat(a);if(console.log("Withdrawal validation:",{userBalance:z,amount:a,availableBalance:s,requestedAmount:r,comparison:r>s,isEqual:r===s,availableFormatted:s.toFixed(6),requestedFormatted:r.toFixed(6)}),r>s+1e-6)throw Error("Insufficient balance. Available: ".concat(s.toFixed(4)," ONEDOLLAR, Requested: ").concat(a," ONEDOLLAR"));console.log("\uD83C\uDFE6 Step 1: Exiting from Pot...");try{await n({address:t.pot,abi:y,functionName:"exit",args:[i]}),console.log("✅ Pot exit completed"),await new Promise(e=>setTimeout(e,2e3))}catch(e){throw console.error("❌ Pot exit failed:",e),e}console.log("\uD83D\uDCB0 Step 2: Converting dai to tokens...");let o=await n({address:t.daiJoin,abi:b,functionName:"exit",args:[e,i]});return console.log("✅ Withdrawal completed"),await new Promise(e=>setTimeout(e,2e3)),N(),M(),F(),o};return v&&setTimeout(()=>{N(),M(),S(),D(),F()},2e3),{userBalance:z,walletBalance:E?(0,l.c)(BigInt(E.toString())):"0",savingsRate:B,totalPie:P?(0,l.c)(BigInt(P.toString())):"0",updateRates:R,approveDaiJoin:O,joinStablecoinToVat:J,authorizePot:_,depositToPot:I,depositSavings:L,withdrawSavings:$,drip:()=>(console.log("\uD83D\uDCA7 Dripping interest..."),n({address:t.pot,abi:y,functionName:"drip",args:[]})),isPending:j,isSuccess:v,refetchData:()=>{N(),M(),S(),D(),F()}}}(),{address:L}=(0,i.F)(),[$,Q]=(0,x.useState)(""),[W,H]=(0,x.useState)(""),[X,q]=(0,x.useState)(-1),[V,U]=(0,x.useState)(new Set),Y=async()=>{if(W){if(console.log("Withdraw button clicked with amount:",W),!L)return void alert("Please connect your wallet first before withdrawing.");try{console.log("Calling withdrawSavings...");let a=await T(W);a&&(O.oR.message("pt"===t?"TransaA\x15A�o enviada":"Transaction submitted",{description:a}),await (0,J.g)(a),console.log("Withdraw confirmed on-chain"),O.oR.success("".concat(e("stake.withdraw"),": ").concat("pt"===t?"Confirmado em blockchain":"Confirmed on-chain")),H(""))}catch(t){console.error("Withdraw failed:",t);let e=t instanceof Error?t.message:String(t);alert("Withdraw failed: ".concat(e))}}},G=async(a,n)=>{if(!z)try{q(a);let i=await n();i&&(O.oR.message("pt"===t?"TransaA\x15A�o enviada":"Transaction submitted",{description:i}),await (0,J.g)(i)),U(e=>new Set([...e,a])),q(-1);let s=[e("stake.steps.update.title"),e("stake.steps.approve.title"),e("stake.steps.join.title"),e("stake.steps.auth.title"),e("stake.steps.deposit.title")];O.oR.success("".concat(s[a],": ").concat("pt"===t?"ConcluA-do com sucesso":"Completed successfully")),setTimeout(()=>I(),2e3)}catch(s){console.error("Step ".concat(a+1," failed:"),s),q(-1);let n=[e("stake.steps.update.title"),e("stake.steps.approve.title"),e("stake.steps.join.title"),e("stake.steps.auth.title"),e("stake.steps.deposit.title")],i=s instanceof Error?s.message:String(s);O.oR.error("".concat(n[a],": ").concat("pt"===t?"Falhou":"Failed"," - ").concat(i))}};return(0,n.jsx)("main",{className:"min-h-[60vh] bg-[#f3f1f7]",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-16",children:[(0,n.jsxs)("div",{className:"mx-auto max-w-4xl mb-4 rounded-md border border-amber-300 bg-amber-50 p-3 text-sm text-amber-900",children:["pt"===t?"As confirma\xe7\xf5es on‑chain podem levar algum tempo. Se os saldos n\xe3o atualizarem imediatamente ap\xf3s uma transa\xe7\xe3o, clique no bot\xe3o atualizar.":"On‑chain confirmations can take time. If balances do not update immediately after a transaction, click the refresh button.",(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)(v.$,{size:"sm",variant:"outline",onClick:()=>I(),disabled:z,children:"pt"===t?"Atualizar":"Refresh"})})]}),(0,n.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,n.jsxs)("div",{className:"mb-8 text-center",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-4",children:e("stake.title")}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground",children:e("stake.subtitle")})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,n.jsxs)(j,{children:[(0,n.jsxs)(k,{className:"pb-3",children:[(0,n.jsx)(N,{className:"text-sm font-medium text-muted-foreground",children:e("stake.balance")}),(0,n.jsx)(A,{className:"text-2xl font-bold text-foreground",children:a.data})]}),(0,n.jsx)(M,{className:"pt-0",children:(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e("stake.savingsRate"),": ",(0,n.jsx)("span",{className:"text-emerald-600 font-medium",children:u.data})]})})]}),(0,n.jsxs)(j,{children:[(0,n.jsxs)(k,{className:"pb-3",children:[(0,n.jsx)(N,{className:"text-sm font-medium text-muted-foreground",children:e("stake.wallet")}),(0,n.jsx)(A,{className:"text-2xl font-bold text-foreground",children:p.data})]}),(0,n.jsx)(M,{className:"pt-0",children:(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e("stake.savingsRate"),": ",(0,n.jsx)("span",{className:"text-emerald-600 font-medium",children:u.data})]})})]}),(0,n.jsxs)(j,{children:[(0,n.jsxs)(k,{className:"pb-3",children:[(0,n.jsx)(N,{className:"text-sm font-medium text-muted-foreground",children:e("stake.totalPie")}),(0,n.jsx)(A,{className:"text-2xl font-bold text-foreground",children:g.data})]}),(0,n.jsx)(M,{className:"pt-0",children:(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e("stake.savingsRate"),": ",(0,n.jsx)("span",{className:"text-emerald-600 font-medium",children:u.data})]})})]})]}),(0,n.jsx)(B,{className:"my-8"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)(j,{children:[(0,n.jsxs)(k,{children:[(0,n.jsx)(N,{className:"text-lg",children:e("stake.steps.title")}),(0,n.jsx)(A,{children:e("stake.steps.subtitle")})]}),(0,n.jsx)(M,{children:(0,n.jsx)("div",{className:"space-y-3",children:[{title:e("stake.steps.update.title"),desc:e("stake.steps.update.desc"),action:F,color:"from-emerald-100 to-emerald-200"},{title:e("stake.steps.approve.title"),desc:e("stake.steps.approve.desc"),action:C,color:"from-purple-100 to-purple-200"},{title:e("stake.steps.join.title"),desc:e("stake.steps.join.desc"),action:S,color:"from-blue-100 to-blue-200"},{title:e("stake.steps.auth.title"),desc:e("stake.steps.auth.desc"),action:D,color:"from-orange-100 to-orange-200"},{title:e("stake.steps.deposit.title"),desc:e("stake.steps.deposit.desc"),action:async()=>{if($)return await E($)},color:"from-rose-100 to-rose-200"}].map((t,a)=>(0,n.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-br ".concat(t.color),children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-foreground",children:t.title}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:t.desc})]}),(0,n.jsxs)("div",{className:"flex gap-3 items-center",children:[V.has(a)&&(0,n.jsx)(P,{className:"bg-emerald-600 hover:bg-emerald-700",children:e("stake.completed")}),(0,n.jsx)(v.$,{size:"sm",variant:"secondary",disabled:z||!1==!!$&&4===a,onClick:()=>G(a,t.action),children:X===a?e("stake.processing"):e("stake.execute")})]})]})},a))})})]}),(0,n.jsxs)(j,{children:[(0,n.jsxs)(k,{children:[(0,n.jsx)(N,{className:"text-lg",children:e("stake.deposit.title")}),(0,n.jsx)(A,{children:e("stake.deposit.subtitle")})]}),(0,n.jsx)(M,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-muted-foreground",children:e("stake.amount")}),(0,n.jsx)(w.p,{type:"text",placeholder:e("stake.deposit.placeholder"),value:$,onChange:e=>Q(e.target.value)})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(v.$,{className:"flex-1",variant:"secondary",disabled:z||!$,onClick:()=>G(4,async()=>await E($)),children:e("stake.deposit.submit")}),(0,n.jsx)(v.$,{className:"flex-1",variant:"outline",disabled:z,onClick:()=>Q(""),children:e("stake.clear")})]})]})})]})]}),(0,n.jsx)(B,{className:"my-8"}),(0,n.jsxs)(j,{children:[(0,n.jsxs)(k,{children:[(0,n.jsx)(N,{className:"text-lg",children:e("stake.withdraw.title")}),(0,n.jsx)(A,{children:e("stake.withdraw.subtitle")})]}),(0,n.jsx)(M,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-muted-foreground",children:e("stake.amount")}),(0,n.jsx)(w.p,{type:"text",placeholder:e("stake.withdraw.placeholder"),value:W,onChange:e=>H(e.target.value)})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)(v.$,{className:"flex-1",variant:"destructive",disabled:z||!W,onClick:Y,children:e("stake.withdraw.submit")}),(0,n.jsx)(v.$,{className:"flex-1",variant:"outline",disabled:z,onClick:()=>H(""),children:e("stake.clear")})]})]})})]})]})]})})}},64269:(e,t,a)=>{"use strict";a.d(t,{g:()=>i});var n=a(34572);async function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=new n.k(window.ethereum),i=await a.waitForTransaction(e);if(t>1&&(null==i?void 0:i.blockNumber)!=null){let e=i.blockNumber+(t-1);for(;!(await a.getBlockNumber()>=e);)await new Promise(e=>setTimeout(e,1e3))}}},97003:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var n=a(95155);a(12115);var i=a(32467),s=a(83101),r=a(25016);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:s,asChild:l=!1,...d}=e,p=l?i.DX:"button";return(0,n.jsx)(p,{"data-slot":"button",className:(0,r.cn)(o({variant:a,size:s,className:t})),...d})}}},e=>{e.O(0,[9840,3736,6735,8441,1255,7358],()=>e(e.s=27877)),_N_E=e.O()}]);